input {
	http {
		host => "0.0.0.0"
		port => 7777
		type => "kuzzle"
	}
}

filter {
	mutate {
			#suppose you only want type message event
			#replace => { "message" => "%{[message][hookEvent]}" }
			#(from the root starting point)
			#add_tag => { "anewtag" => "myvalue" }
			#(from the "message"  starting point)
			#add_field => { "anewfield" => "my new field" }
			#remove_field => [ "headers" ]
			#rename => { "headers" => "trucmuch" }
	}
}

output {
	# uncomment this if you want to be spammed by logStash
	#stdout { codec => rubydebug }
	#stdout {  }
	file {
		#be sure every message is write with no time (else last message are buffered as vitam etnernam)
		flush_interval => 0
		path => "/var/log/logstash/kuzzle/log-%{+YYYY-MM-dd}.txt"
	}
}
