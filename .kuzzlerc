{
  // Kuzzle server listening port
  "port": 7511,
  // Host and port for ipBroker service that handle internal communication
  "ipcBroker": {
    "host": "localhost",
    "port": 7911
  },
  // Host and port for mqBroker service that handle communication with protocol like MQTT, STOMP and AMQP
  // Only make sense if environment variable MQ_BROKER_ENABLED is set to 1
  "mqBroker": {
    "host" : "rabbit",
    "port": 5672
  },
  // Host and port for the readEngine service: the database called when we read a data. Can be an array.
  "readEngine": {
    "host": "elasticsearch",
    "port": "9200"
  },
  // Host and port for the writeEngine service: the database called when we write a data. Can be an array.
  "writeEngine": {
    "host": "elasticsearch",
    "port": "9200"
  },
  // Kuzzle internal cache configuration
  "cache": {
    "host": "redis",
    "port": 6379
  },
  // JWT defaults.
  "jsonWebToken": {
    "algorithm": "HS256",
    "secret": "Kuzzle Rocks",
    "expiresIn": "1h"
  },
  // Password Manager defaults.
  "passwordManager": {
    "secret": "jbsB8r69PFP39KdLtjVr25Z22",
    "algorithm": "sha1",
    "digest": "hex"
  },
  // Default internal index
  "internalIndex": "%kuzzle",
  // repositories defaults
  "repositories": {
    "cacheTTL": 1440
  },
  // Default user profiles
  "userProfiles": {
    "admin": {
      "_id": "admin",
      "roles": [ "admin" ]
    },
    "default": {
      "_id": "default",
      "roles": [ "default" ]
    },
    "anonymous": {
      "_id": "anonymous",
      "roles": [ "anonymous" ]
    }
  },
  // role template for all users before to create the first admin
  "roleWithoutAdmin": { 
    "indexes": {
      "_canCreate": true,
      "*": {
      "_canDelete": true,
      "collections": {
        "_canCreate": true,
        "*": {
          "_canDelete": true,
          "controllers": {
            "*": {
              "actions": {
                "*": true
                }
              }
            }
          }
        }
      },
      "%kuzzle": {
      "_canDelete": false,
      "collections": {
        "_canCreate": false,
        "*": {
          "_canDelete": false,
          "controllers": {
            "*": {
              "actions": {
                "*": true
                }
              }
            }
          }
        }
      }
    }
  },
  // Default security roles 
  "userRoles": {
    "admin": {
      "_id": "admin",
      "indexes": {
        "_canCreate": true,
        "*": {
        "_canDelete": true,
        "collections": {
          "_canCreate": true,
          "*": {
            "_canDelete": true,
            "controllers": {
              "*": {
                "actions": {
                  "*": true
                  }
                }
              }
            }
          }
        },
        "%kuzzle": {
        "_canDelete": false,
        "collections": {
          "_canCreate": false,
          "*": {
            "_canDelete": false,
            "controllers": {
              "*": {
                "actions": {
                  "*": true
                  }
                }
              }
            }
          }
        }
      }
    },
    "anonymous": {
      "_id": "anonymous",
      "indexes": {
        "_canCreate": false,
        "*": {
          "_canDelete": false,
          "collections": {
            "_canCreate": false,
            "*": {
              "_canDelete": false,
              "controllers": {
                "auth": {
                  "actions": {
                    "login": true,
                    "getCurrentUser": true
                  }
                },
                "*": {
                  "actions": {
                    "*": false
                  }
                }
              }
            }
          }
        },
        "%kuzzle": {
        "_canDelete": false,
        "collections": {
          "_canCreate": false,
          "*": {
            "_canDelete": false,
            "controllers": {
              "*": {
                "actions": {
                  "*": false
                  }
                }
              }
            }
          }
        }
      }
    },
    "default": {
      "_id": "default",
      "indexes": {
        "_canCreate": false,
        "*": {
          "_canDelete": false,
          "collections": {
            "_canCreate": false,
            "*": {
              "_canDelete": false,
              "controllers": {
                "auth": {
                  "actions": {
                    "login": true,
                    "logout": true,
                    "getCurrentUser": true
                  }
                },
                "*": {
                  "actions": {
                    "*": false
                  }
                }
              }
            }
          }
        },
        "%kuzzle": {
        "_canDelete": false,
        "collections": {
          "_canCreate": false,
          "*": {
            "_canDelete": false,
            "controllers": {
              "*": {
                "actions": {
                  "*": false
                  }
                }
              }
            }
          }
        }
      }
    }    
  },
  "pluginsManager": {
    "pipeWarnTime": 40,
    "pipeTimeout": 250
  }
}
